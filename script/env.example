# ========================================
# Sidifensen Blog 环境变量配置文件示例
# ========================================
#
# 使用说明：
# 1. 复制此文件为 .env：cp script/env.example .env
# 2. 根据您的实际环境修改下面的配置
# 3. 启动服务：cd script && docker-compose up -d
#
# 注意事项：
# - .env 文件包含敏感信息，不应提交到 Git 仓库
# - 生产环境请务必修改所有默认密码
# - 邮件和阿里云配置需要填入真实的账号信息
#
# ========================================

# ========================================
# Spring Boot 应用配置
# ========================================
# 注意：本项目使用单一 application.yaml 配置文件
# 通过环境变量区分不同环境，无需设置 SPRING_PROFILES_ACTIVE

# ========================================
# 数据库配置 (MySQL 8.0)
# ========================================
# MySQL root 用户密码（管理员密码）
MYSQL_ROOT_PASSWORD=root

# 应用使用的数据库名称
MYSQL_DATABASE=sidifensen_blog

# 应用连接数据库的用户名
MYSQL_USER=sidifensen

# 应用连接数据库的密码
MYSQL_PASSWORD=sidifensen123

# MySQL 对外暴露的端口（默认 3306）
MYSQL_PORT=3306

# ========================================
# Redis 缓存配置
# ========================================
# Redis 用户名（用于缓存和会话存储）
REDIS_USERNAME=sidifensen

# Redis 访问密码
REDIS_PASSWORD=sidifensen123

# Redis 对外暴露的端口（默认 6379）
REDIS_PORT=6379

# ========================================
# MinIO 对象存储配置
# ========================================
# MinIO 访问密钥（用于文件上传存储）
MINIO_ACCESS_KEY=minio

# MinIO 密钥
MINIO_SECRET_KEY=minio

# MinIO API 端口（默认 9000）
MINIO_API_PORT=9000

# MinIO 控制台端口（默认 9001）
MINIO_CONSOLE_PORT=9001

# MinIO 公网访问地址（用于生成文件访问 URL）
MINIO_PUBLIC_POINT=http://localhost:9000

# ========================================
# RabbitMQ 消息队列配置
# ========================================
# RabbitMQ 管理员用户名（用于异步消息处理）
RABBITMQ_DEFAULT_USER=guest

# RabbitMQ 管理员密码
RABBITMQ_DEFAULT_PASS=guest

# RabbitMQ 服务端口（默认 5672）
RABBITMQ_PORT=5672

# RabbitMQ 管理界面端口（默认 15672）
RABBITMQ_MANAGEMENT_PORT=15672

# ========================================
# AI 服务配置 (DeepSeek)
# ========================================
# DeepSeek API Key（用于 AI 功能，如文章摘要生成）
# 获取方式：https://platform.deepseek.com/api_keys
SPRING_AI_OPENAI_API_KEY=your-deepseek-api-key

# DeepSeek API 地址（默认使用官方地址）
SPRING_AI_OPENAI_BASE_URL=https://api.deepseek.com

# DeepSeek 模型名称（默认使用 deepseek-chat）
# 可选值：deepseek-chat, deepseek-coder 等
SPRING_AI_OPENAI_CHAT_OPTIONS_MODEL=deepseek-chat

# ========================================
# 邮件服务配置
# ========================================
# 发送邮件的邮箱地址（用于用户注册、密码重置等功能）
# 支持：QQ邮箱、Gmail、163邮箱等
MAIL_USERNAME=your-email@qq.com

# 邮箱密码或授权码
# QQ邮箱：需要使用授权码，不是QQ密码
# Gmail：需要开启两步验证并生成应用专用密码
MAIL_PASSWORD=your-email-password

# ========================================
# OAuth 第三方登录配置 不配置的话可以留空
# ========================================
# Gitee OAuth 配置
GITEE_CLIENT_ID=your-gitee-client-id
GITEE_CLIENT_SECRET=your-gitee-client-secret
# 开发环境使用: http://localhost:5000/oauth/gitee/callback
# 生产环境使用: https://api.sidifensen.com/oauth/gitee/callback
GITEE_REDIRECT_URI=https://api.sidifensen.com/oauth/gitee/callback

# GitHub OAuth 配置
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
# 开发环境使用: http://localhost:5000/oauth/github/callback
# 生产环境使用: https://api.sidifensen.com/oauth/github/callback
GITHUB_REDIRECT_URI=https://api.sidifensen.com/oauth/github/callback

# QQ OAuth配置
QQ_CLIENT_ID=
QQ_CLIENT_SECRET=
QQ_REDIRECT_URI=

# ========================================
# 前端地址配置
# ========================================
# 用户端前端地址
FRONTEND_USER_HOST=http://localhost:7000/

# 管理端前端地址
FRONTEND_ADMIN_HOST=http://localhost:8000/

# ========================================
# 阿里云服务配置
# ========================================
# 阿里云 AccessKey ID（用于图片内容安全检测）
# 获取方式：阿里云控制台 -> 用户信息 -> AccessKey 管理
ALIYUN_ACCESS_KEY_ID=your-access-key-id

# 阿里云 AccessKey Secret
ALIYUN_ACCESS_KEY_SECRET=your-access-key-secret

# ========================================
# AI 服务配置（DeepSeek API）
# ========================================
# DeepSeek API 密钥
# 获取方式：https://platform.deepseek.com/ -> API Keys
# 功能：智能提取文章摘要
# 配额限制：每个用户每天最多调用 10 次（硬编码）
DEEPSEEK_API_KEY=your-deepseek-api-key

# DeepSeek API 端点（默认使用官方地址，一般无需修改）
DEEPSEEK_API_BASE_URL=https://api.deepseek.com

# 使用的 AI 模型（默认 deepseek-chat）
DEEPSEEK_MODEL=deepseek-chat

# ========================================
# 应用自定义配置
# ========================================
# JWT 令牌签名密钥（用于用户身份认证）
# 生产环境请使用复杂的随机字符串
SIDIFENSEN_JWT_SECRET=sidifensen

# 图片自动审核开关
SIDIFENSEN_PHOTO_AUTO_AUDIT=false

# 文章自动审核开关
SIDIFENSEN_ARTICLE_AUTO_AUDIT=true

# 评论自动审核开关
SIDIFENSEN_COMMENT_AUTO_AUDIT=false

# ========================================
# 应用服务端口配置
# ========================================
# 后端 API 服务端口（默认 5000）
BACKEND_PORT=5000

# 管理端前端端口（默认 8000）
ADMIN_PORT=8000

# 用户端前端端口（默认 7000）
USER_PORT=7000



# ========================================
# 配置修改建议
# ========================================
#
# 开发环境建议：
# - 可以使用默认密码和端口进行本地开发
# - 邮件配置可以先跳过，使用测试邮箱
# - 端口冲突时可以修改为其他端口
#
# 生产环境必须修改：
# - 所有密码都要使用强密码（包含大小写字母、数字、特殊字符）
# - SIDIFENSEN_JWT_SECRET 使用长随机字符串
# - 邮件配置填入真实可用的邮箱
# - 阿里云配置填入真实的 AccessKey
# - AI 服务配置填入真实的 DeepSeek API Key
# - 根据服务器情况调整端口配置
#
# 强密码示例：
# MYSQL_ROOT_PASSWORD=MySecure123!@#
# REDIS_PASSWORD=Redis456$%^
# SIDIFENSEN_JWT_SECRET=MyVeryLongAndSecureJwtSecret2024!@#$
#



# 端口配置示例（避免冲突）：
# MYSQL_PORT=33061
# REDIS_PORT=63791
# MINIO_API_PORT=90001
# MINIO_CONSOLE_PORT=90011
# RABBITMQ_PORT=56721
# RABBITMQ_MANAGEMENT_PORT=156721
# BACKEND_PORT=50001
# ADMIN_PORT=80001
# USER_PORT=70001
#
# ========================================


