warning: in the working copy of '.cursor/rules/frontend.mdc', LF will be replaced by CRLF the next time Git touches it
[1mdiff --git a/.cursor/rules/frontend.mdc b/.cursor/rules/frontend.mdc[m
[1mindex bb0d685..a8c09c7 100644[m
[1m--- a/.cursor/rules/frontend.mdc[m
[1m+++ b/.cursor/rules/frontend.mdc[m
[36m@@ -49,6 +49,7 @@[m [msrc/[m
 - äº‹ä»¶åä½¿ç”¨ kebab-case[m
 - ç»„ä»¶æ ‡ç­¾ä½¿ç”¨ PascalCase[m
 - **âš ï¸ é‡è¦ï¼šç¡®ä¿æ‰€æœ‰ HTML æ ‡ç­¾éƒ½æ­£ç¡®é—­åˆï¼Œé¿å…æœªé—­åˆæ ‡ç­¾å¯¼è‡´çš„é¡µé¢æ¸²æŸ“é—®é¢˜å’Œå¸ƒå±€é”™ä¹±**[m
[32m+[m[32m- **ğŸš« ç¦æ­¢å¯¼å…¥ Element Plus æ¶ˆæ¯ç»„ä»¶ï¼šä¸è¦åœ¨æ¯ä¸ª Vue æ–‡ä»¶ä¸­å¯¼å…¥ `import { ElMessage, ElMessageBox } from "element-plus"`ï¼Œè¿™ä¼šå¯¼è‡´æ ·å¼ä¸ç”Ÿæ•ˆã€‚è¿™äº›ç»„ä»¶å·²ç»å…¨å±€æ³¨å†Œï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨**[m
 [m
 ### 3. Composition API è§„èŒƒ[m
 [m
[36m@@ -57,7 +58,7 @@[m [msrc/[m
 // 1. å¯¼å…¥ä¾èµ– - æŒ‰ç…§åŠŸèƒ½åˆ†ç»„[m
 import { ref, reactive, computed, onMounted, watch } from "vue";[m
 import { useRoute, useRouter } from "vue-router";[m
[31m-import { ElMessage } from "element-plus";[m
[32m+[m[32m// æ³¨æ„ï¼šElMessage å·²å…¨å±€æ³¨å†Œï¼Œæ— éœ€å¯¼å…¥[m
 import { Plus, Message, Trophy, View } from "@element-plus/icons-vue";[m
 import { getUserInfoById } from "@/api/user";[m
 import { getUserArticleList, getUserArticleStatisticsById } from "@/api/article";[m
[36m@@ -790,19 +791,47 @@[m [mconst fetchArticleList = async (reset = false) => {[m
 [m
 ### 2. æ¶ˆæ¯æç¤º[m
 [m
[32m+[m[32m- **âš ï¸ é‡è¦è­¦å‘Šï¼šç¦æ­¢åœ¨æ¯ä¸ª Vue æ–‡ä»¶ä¸­å•ç‹¬å¯¼å…¥ `import { ElMessage, ElMessageBox } from "element-plus"`ï¼Œè¿™ä¼šå¯¼è‡´æ ·å¼ä¸ç”Ÿæ•ˆ**[m
[32m+[m[32m- **âœ… æ­£ç¡®åšæ³•ï¼šElement Plus çš„æ¶ˆæ¯æç¤ºç»„ä»¶å·²ç»åœ¨å…¨å±€æ³¨å†Œï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€å¯¼å…¥**[m
[32m+[m
 ```javascript[m
[32m+[m[32m// âŒ é”™è¯¯åšæ³• - ç¦æ­¢åœ¨ç»„ä»¶ä¸­å¯¼å…¥[m
 import { ElMessage, ElMessageBox } from "element-plus";[m
 [m
[32m+[m[32m// âœ… æ­£ç¡®åšæ³• - ç›´æ¥ä½¿ç”¨å…¨å±€æ³¨å†Œçš„ç»„ä»¶[m
 // æˆåŠŸæç¤º[m
 ElMessage.success("æ“ä½œæˆåŠŸ");[m
 [m
[32m+[m[32m// é”™è¯¯æç¤º[m
[32m+[m[32mElMessage.error("æ“ä½œå¤±è´¥");[m
[32m+[m
[32m+[m[32m// è­¦å‘Šæç¤º[m
[32m+[m[32mElMessage.warning("è¯·æ³¨æ„");[m
[32m+[m
[32m+[m[32m// ä¿¡æ¯æç¤º[m
[32m+[m[32mElMessage.info("æç¤ºä¿¡æ¯");[m
[32m+[m
 // ç¡®è®¤å¯¹è¯æ¡†[m
 ElMessageBox.confirm("ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ", "æç¤º", {[m
   confirmButtonText: "ç¡®å®š",[m
   cancelButtonText: "å–æ¶ˆ",[m
   type: "warning",[m
[31m-}).then(() => {[m
[31m-  // ç¡®è®¤æ“ä½œ[m
[32m+[m[32m})[m
[32m+[m[32m  .then(() => {[m
[32m+[m[32m    // ç¡®è®¤æ“ä½œ[m
[32m+[m[32m  })[m
[32m+[m[32m  .catch(() => {[m
[32m+[m[32m    // å–æ¶ˆæ“ä½œ[m
[32m+[m[32m  });[m
[32m+[m
[32m+[m[32m// è¾“å…¥å¯¹è¯æ¡†[m
[32m+[m[32mElMessageBox.prompt("è¯·è¾“å…¥é‚®ç®±", "æç¤º", {[m
[32m+[m[32m  confirmButtonText: "ç¡®å®š",[m
[32m+[m[32m  cancelButtonText: "å–æ¶ˆ",[m
[32m+[m[32m  inputPattern: /[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,[m
[32m+[m[32m  inputErrorMessage: "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",[m
[32m+[m[32m}).then(({ value }) => {[m
[32m+[m[32m  // å¤„ç†è¾“å…¥å€¼[m
 });[m
 ```[m
 [m
[36m@@ -948,7 +977,6 @@[m [mElMessageBox.confirm("ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ", "æç¤º", {[m
 <script setup>[m
 import { ref, reactive, computed, onMounted, watch } from "vue";[m
 import { useRoute, useRouter } from "vue-router";[m
[31m-import { ElMessage } from "element-plus";[m
 import { Plus, Message, Trophy, View, Picture } from "@element-plus/icons-vue";[m
 import { getUserInfoById } from "@/api/user";[m
 import { getUserArticleList, getUserArticleStatisticsById } from "@/api/article";[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/ArticleController.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/ArticleController.java[m
[1mindex f7353a8..9dcb42c 100644[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/ArticleController.java[m
[1m+++ b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/ArticleController.java[m
[36m@@ -261,4 +261,16 @@[m [mpublic class ArticleController {[m
         return Result.success();[m
     }[m
 [m
[32m+[m[32m    /**[m
[32m+[m[32m     * ç®¡ç†å‘˜è·å–æ–‡ç« ç»Ÿè®¡æ•°æ®[m
[32m+[m[32m     *[m
[32m+[m[32m     * @return æ–‡ç« ç»Ÿè®¡æ•°æ®[m
[32m+[m[32m     */[m
[32m+[m[32m    @PreAuthorize("hasAuthority('article:list')")[m
[32m+[m[32m    @GetMapping("/admin/statistics")[m
[32m+[m[32m    public Result getAdminStatistics() {[m
[32m+[m[32m        ArticleStatisticsVo statisticsVo = articleService.getAdminStatistics();[m
[32m+[m[32m        return Result.success(statisticsVo);[m
[32m+[m[32m    }[m
[32m+[m
 }[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/CommentController.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/CommentController.java[m
[1mindex 42929b9..c7333ef 100644[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/CommentController.java[m
[1m+++ b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/CommentController.java[m
[36m@@ -171,4 +171,16 @@[m [mpublic class CommentController {[m
         return Result.success();[m
     }[m
 [m
[32m+[m[32m    /**[m
[32m+[m[32m     * ç®¡ç†å‘˜è·å–è¯„è®ºæ€»æ•°ç»Ÿè®¡[m
[32m+[m[32m     *[m
[32m+[m[32m     * @return è¯„è®ºæ€»æ•°[m
[32m+[m[32m     */[m
[32m+[m[32m    @PreAuthorize("hasAuthority('comment:list')")[m
[32m+[m[32m    @GetMapping("/admin/statistics")[m
[32m+[m[32m    public Result<Long> getCommentStatistics() {[m
[32m+[m[32m        Long totalCount = commentService.getCommentTotalCount();[m
[32m+[m[32m        return Result.success(totalCount);[m
[32m+[m[32m    }[m
[32m+[m
 }[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/FavoriteArticleController.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/FavoriteArticleController.java[m
[1mdeleted file mode 100644[m
[1mindex eb985f6..0000000[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/FavoriteArticleController.java[m
[1m+++ /dev/null[m
[36m@@ -1,15 +0,0 @@[m
[31m-package com.sidifensen.controller;[m
[31m-[m
[31m-[m
[31m-import org.springframework.web.bind.annotation.RequestMapping;[m
[31m-import org.springframework.web.bind.annotation.RestController;[m
[31m-[m
[31m-/**[m
[31m- * @author sidifensen[m
[31m- * @since 2025-09-16[m
[31m- */[m
[31m-@RestController[m
[31m-@RequestMapping("/favorite-article")[m
[31m-public class FavoriteArticleController {[m
[31m-[m
[31m-}[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/SysUserController.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/SysUserController.java[m
[1mindex 08ad073..31d234f 100644[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/SysUserController.java[m
[1m+++ b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/SysUserController.java[m
[36m@@ -5,6 +5,7 @@[m [mimport com.sidifensen.domain.result.Result;[m
 import com.sidifensen.domain.vo.SysUserDetailVo;[m
 import com.sidifensen.domain.vo.SysUserVo;[m
 import com.sidifensen.domain.vo.SysUserWithArticleCountVo;[m
[32m+[m[32mimport com.sidifensen.domain.vo.SysUserWithCommentCountVo;[m
 import com.sidifensen.redis.RedisComponent;[m
 import com.sidifensen.service.SysUserService;[m
 import com.wf.captcha.ArithmeticCaptcha;[m
[36m@@ -183,6 +184,18 @@[m [mpublic class SysUserController {[m
         return Result.success(sysUserVos);[m
     }[m
 [m
[32m+[m[32m    /**[m
[32m+[m[32m     * ç®¡ç†ç«¯è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆåŒ…å«è¯„è®ºæ•°é‡ï¼‰[m
[32m+[m[32m     *[m
[32m+[m[32m     * @return[m
[32m+[m[32m     */[m
[32m+[m[32m    @PreAuthorize("hasAuthority('system:user:list')")[m
[32m+[m[32m    @GetMapping("/admin/listWithCommentCount")[m
[32m+[m[32m    public Result listUserWithCommentCount() {[m
[32m+[m[32m        List<SysUserWithCommentCountVo> sysUserVos = sysUserService.listUserWithCommentCount();[m
[32m+[m[32m        return Result.success(sysUserVos);[m
[32m+[m[32m    }[m
[32m+[m
     /**[m
      * ç®¡ç†ç«¯ä¿®æ”¹ç”¨æˆ·[m
      *[m
[36m@@ -229,4 +242,16 @@[m [mpublic class SysUserController {[m
         return Result.success(sysUserDetailVo);[m
     }[m
 [m
[32m+[m[32m    /**[m
[32m+[m[32m     * ç®¡ç†ç«¯è·å–ç”¨æˆ·æ€»æ•°ç»Ÿè®¡[m
[32m+[m[32m     *[m
[32m+[m[32m     * @return ç”¨æˆ·æ€»æ•°[m
[32m+[m[32m     */[m
[32m+[m[32m    @PreAuthorize("hasAuthority('system:user:list')")[m
[32m+[m[32m    @GetMapping("/admin/count")[m
[32m+[m[32m    public Result getUserTotalCount() {[m
[32m+[m[32m        Long totalCount = sysUserService.getUserTotalCount();[m
[32m+[m[32m        return Result.success(totalCount);[m
[32m+[m[32m    }[m
[32m+[m
 }[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/TagController.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/TagController.java[m
[1mindex 4f876bf..e5293cf 100644[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/TagController.java[m
[1m+++ b/sidifensen_blog_backend/src/main/java/com/sidifensen/controller/TagController.java[m
[36m@@ -5,6 +5,7 @@[m [mimport com.sidifensen.domain.dto.TagDto;[m
 import com.sidifensen.domain.result.Result;[m
 import com.sidifensen.service.TagService;[m
 import jakarta.annotation.Resource;[m
[32m+[m[32mimport org.springframework.security.access.prepost.PreAuthorize;[m
 import org.springframework.web.bind.annotation.*;[m
 [m
 import java.util.List;[m
[36m@@ -25,6 +26,7 @@[m [mpublic class TagController {[m
     /**[m
      * æ–°å¢æ ‡ç­¾[m
      */[m
[32m+[m[32m    @PreAuthorize("hasAuthority('tag:add')")[m
     @PostMapping("/add")[m
     public Result addTag(@RequestBody TagDto tagDto) {[m
         tagService.addTag(tagDto);[m
[36m@@ -43,9 +45,10 @@[m [mpublic class TagController {[m
     /**[m
      * åˆ é™¤æ ‡ç­¾[m
      */[m
[32m+[m[32m    @PreAuthorize("hasAuthority('tag:delete')")[m
     @DeleteMapping("/delete")[m
     public Result deleteTag(@RequestParam Integer id) {[m
[31m-        tagService.removeById(id);[m
[32m+[m[32m        tagService.deleteTag(id);[m
         return Result.success();[m
     }[m
 [m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/constants/BlogConstants.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/constants/BlogConstants.java[m
[1mindex ef122a8..283f354 100644[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/constants/BlogConstants.java[m
[1m+++ b/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/constants/BlogConstants.java[m
[36m@@ -40,6 +40,7 @@[m [mpublic class BlogConstants {[m
     public static final String DeleteMessageError = "æ¶ˆæ¯åˆ é™¤å¤±è´¥";[m
 [m
     public static final String AddTagError = "æ·»åŠ æ ‡ç­¾å¤±è´¥";[m
[32m+[m[32m    public static final String DeleteTagError = "åˆ é™¤æ ‡ç­¾å¤±è´¥";[m
     public static final String AddArticleError = "æ·»åŠ æ–‡ç« å¤±è´¥";[m
     public static final String DeleteArticleError = "åˆ é™¤æ–‡ç« å¤±è´¥";[m
     public static final String CannotHandleOthersArticle = "ä¸èƒ½æ“ä½œåˆ«äººçš„æ–‡ç« ";[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/dto/CommentSearchDto.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/dto/CommentSearchDto.java[m
[1mindex dc5001e..1aef052 100644[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/dto/CommentSearchDto.java[m
[1m+++ b/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/dto/CommentSearchDto.java[m
[36m@@ -7,6 +7,7 @@[m [mimport lombok.EqualsAndHashCode;[m
 import lombok.experimental.Accessors;[m
 [m
 import java.io.Serializable;[m
[32m+[m[32mimport java.util.Date;[m
 [m
 /**[m
  * è¯„è®ºæœç´¢æ•°æ®ä¼ è¾“å¯¹è±¡[m
[36m@@ -45,4 +46,14 @@[m [mpublic class CommentSearchDto implements Serializable {[m
      */[m
     private String keyword;[m
 [m
[32m+[m[32m    /**[m
[32m+[m[32m     * åˆ›å»ºæ—¶é—´å¼€å§‹ï¼ˆç”¨äºæœç´¢ï¼‰[m
[32m+[m[32m     */[m
[32m+[m[32m    private Date createTimeStart;[m
[32m+[m
[32m+[m[32m    /**[m
[32m+[m[32m     * åˆ›å»ºæ—¶é—´ç»“æŸï¼ˆç”¨äºæœç´¢ï¼‰[m
[32m+[m[32m     */[m
[32m+[m[32m    private Date createTimeEnd;[m
[32m+[m
 }[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/entity/FavoriteArticle.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/entity/FavoriteArticle.java[m
[1mdeleted file mode 100644[m
[1mindex d500cf3..0000000[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/domain/entity/FavoriteArticle.java[m
[1m+++ /dev/null[m
[36m@@ -1,55 +0,0 @@[m
[31m-package com.sidifensen.domain.entity;[m
[31m-[m
[31m-import com.baomidou.mybatisplus.annotation.TableName;[m
[31m-import com.baomidou.mybatisplus.annotation.IdType;[m
[31m-import com.baomidou.mybatisplus.annotation.TableId;[m
[31m-import java.time.LocalDateTime;[m
[31m-import java.io.Serializable;[m
[31m-import lombok.Data;[m
[31m-import lombok.EqualsAndHashCode;[m
[31m-import lombok.experimental.Accessors;[m
[31m-[m
[31m-/**[m
[31m- * <p>[m
[31m- * [m
[31m- * </p>[m
[31m- *[m
[31m- * @author sidifensen[m
[31m- * @since 2025-09-16[m
[31m- */[m
[31m-@Data[m
[31m-@EqualsAndHashCode(callSuper = false)[m
[31m-@Accessors(chain = true)[m
[31m-@TableName("favorite_article")[m
[31m-public class FavoriteArticle implements Serializable {[m
[31m-[m
[31m-    private static final long serialVersionUID = 1L;[m
[31m-[m
[31m-    /**[m
[31m-     * ä¸»é”®id[m
[31m-     */[m
[31m-    @TableId(value = "id", type = IdType.AUTO)[m
[31m-    private Integer id;[m
[31m-[m
[31m-    /**[m
[31m-     * æ”¶è—å¤¹id[m
[31m-     */[m
[31m-    private Integer favoriteId;[m
[31m-[m
[31m-    /**[m
[31m-     * è¢«æ”¶è—çš„æ–‡ç« id[m
[31m-     */[m
[31m-    private Integer articleId;[m
[31m-[m
[31m-    /**[m
[31m-     * åˆ›å»ºæ—¶é—´[m
[31m-     */[m
[31m-    private LocalDateTime createTime;[m
[31m-[m
[31m-    /**[m
[31m-     * æ˜¯å¦åˆ é™¤ 0-æœªåˆ é™¤ 1-å·²åˆ é™¤[m
[31m-     */[m
[31m-    private Integer isDeleted;[m
[31m-[m
[31m-[m
[31m-}[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/mapper/FavoriteArticleMapper.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/mapper/FavoriteArticleMapper.java[m
[1mdeleted file mode 100644[m
[1mindex e91ec6f..0000000[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/mapper/FavoriteArticleMapper.java[m
[1m+++ /dev/null[m
[36m@@ -1,12 +0,0 @@[m
[31m-package com.sidifensen.mapper;[m
[31m-[m
[31m-import com.baomidou.mybatisplus.core.mapper.BaseMapper;[m
[31m-import com.sidifensen.domain.entity.FavoriteArticle;[m
[31m-[m
[31m-/**[m
[31m- * @author sidifensen[m
[31m- * @since 2025-09-16[m
[31m- */[m
[31m-public interface FavoriteArticleMapper extends BaseMapper<FavoriteArticle> {[m
[31m-[m
[31m-}[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/service/ArticleService.java b/sidifensen_blog_backend/src/main/java/com/sidifensen/service/ArticleService.java[m
[1mindex f9d4ee0..8159094 100644[m
[1m--- a/sidifensen_blog_backend/src/main/java/com/sidifensen/service/ArticleService.java[m
[1m+++ b/sidifensen_blog_backend/src/main/java/com/sidifensen/service/ArticleService.java[m
[36m@@ -80,4 +80,7 @@[m [mpublic interface ArticleService extends IService<Article> {[m
 [m
     // ç®¡ç†å‘˜æ‰¹é‡åˆ é™¤æ–‡ç« [m
     void adminDeleteBatchArticle(List<Integer> articleIds);[m
[32m+[m
[32m+[m[32m    // ç®¡ç†å‘˜è·å–æ–‡ç« ç»Ÿè®¡æ•°æ®[m
[32m+[m[32m    ArticleStatisticsVo getAdminStatistics();[m
 }[m
[1mdiff --git a/sidifensen_blog_backend/src/main/java/com/sidifensen/service/CommentService.java b/sidifensen_blog_backend/src/main/j